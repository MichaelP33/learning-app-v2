# Contributing: Articles & Quizzes

This project uses Next.js App Router (src/app/) with TypeScript and Tailwind. Articles render via a registry in `ArticleContentWrapper` with a new dynamic per-article renderer path.

## Add a new Article + Quiz (fast path)

1. Scaffold files

```bash
npm run scaffold:article -- --topic <topicId> --id <articleId> --name "Title"
```

This will:

- Add/ensure article metadata in `data/learning-content.json`
- Create `src/components/articles/<articleId>.tsx` (3-section template)
- Regenerate `src/components/articles/registry.ts`

2. Implement content

- Open `src/components/articles/<articleId>.tsx`
- Follow `@.cursorrules-articles` (Three sections: Key Concepts, Business & Team Impact, Cursor Implementation)
- Do NOT duplicate the main article title/description (wrapper renders those)

3. Add a quiz

- Temporary (inline): add a `quiz` block on the article in `data/learning-content.json`
- Refactor target: place in `data/quizzes/<articleId>.json` (loader prefers external files; falls back to inline)

Quiz requirements:

- 10 questions total; 8 multiple-choice + 2 text (freeform/short/long)
- `totalPoints` must equal the sum of `points`
- Vary correct answer indices across MC questions
- Escape quotes in JSX-rendered strings: use `&ldquo;` `&rdquo;` `&rsquo;`

4. Validate and build

```bash
npm run validate:content
# or validate all categories
ALL_CATEGORIES=1 npm run validate:content
npm run build
```

5. Run dev

```bash
npm run dev -- --port 3001
```

If vendor chunks go missing:

```bash
rm -rf .next .turbo .vercel/output && npm run dev -- --port 3001
```

## Checklists

- Article renderer

  - [ ] Lives at `src/components/articles/<articleId>.tsx`
  - [ ] Three sections (Key Concepts, Business & Team Impact, Cursor Implementation)
  - [ ] No duplicated main title/description
  - [ ] Section headers with `h2`, subsections with `h3`, spacing OK

- Quiz

  - [ ] 10 questions (8 MC + 2 text)
  - [ ] Varied correct answer positions
  - [ ] Totals accurate
  - [ ] Quotes escaped (`&ldquo;`, `&rdquo;`, `&rsquo;`)

- Validation & build
  - [ ] `npm run validate:content` passes
  - [ ] `npm run build` passes

## Notes

- The dynamic registry is generated by `scripts/generate-article-registry.mjs`.
- The loader prefers dynamic renderers and external quizzes; legacy fallback remains to avoid regressions.
